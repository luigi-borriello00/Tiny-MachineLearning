#pragma once
#include <cstdarg>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class GaussianNB {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float votes[5] = { 0.0f };
                        float theta[60] = { 0 };
                        float sigma[60] = { 0 };
                        theta[0] = -0.023613861386; theta[1] = 0.002128712871; theta[2] = 0.985742574257; theta[3] = -0.022722772277; theta[4] = 0.000445544554; theta[5] = 0.988118811881; theta[6] = -0.022871287129; theta[7] = 0.000445544554; theta[8] = 0.985346534653; theta[9] = -0.025148514851; theta[10] = 0.000792079208; theta[11] = 0.983217821782; theta[12] = -0.024306930693; theta[13] = -0.001930693069; theta[14] = 0.983811881188; theta[15] = -0.021534653465; theta[16] = -0.007871287129; theta[17] = 0.984752475248; theta[18] = -0.02198019802; theta[19] = -0.001831683168; theta[20] = 0.986534653465; theta[21] = -0.022623762376; theta[22] = -0.00400990099; theta[23] = 0.985148514851; theta[24] = -0.021287128713; theta[25] = -0.002920792079; theta[26] = 0.983316831683; theta[27] = -0.020297029703; theta[28] = -0.005792079208; theta[29] = 0.983514851485; theta[30] = -0.02297029703; theta[31] = 0.002920792079; theta[32] = 0.986683168317; theta[33] = -0.023564356436; theta[34] = 0.005792079208; theta[35] = 0.987277227723; theta[36] = -0.024554455446; theta[37] = 0.003316831683; theta[38] = 0.984059405941; theta[39] = -0.025891089109; theta[40] = 0.000891089109; theta[41] = 0.982623762376; theta[42] = -0.026831683168; theta[43] = 0.000544554455; theta[44] = 0.98400990099; theta[45] = -0.02495049505; theta[46] = -0.001633663366; theta[47] = 0.983762376238; theta[48] = -0.024059405941; theta[49] = 0.002623762376; theta[50] = 0.983910891089; theta[51] = -0.021732673267; theta[52] = 0.000495049505; theta[53] = 0.98396039604; theta[54] = -0.018910891089; theta[55] = -0.002920792079; theta[56] = 0.987277227723; theta[57] = -0.018514851485; theta[58] = -0.005297029703; theta[59] = 0.987920792079;
                        sigma[0] = 0.006908227169; sigma[1] = 0.010201904259; sigma[2] = 0.004837319905; sigma[3] = 0.007301002387; sigma[4] = 0.009788415385; sigma[5] = 0.004749926512; sigma[6] = 0.00721551812; sigma[7] = 0.009528019346; sigma[8] = 0.004828840344; sigma[9] = 0.007378443324; sigma[10] = 0.009668679575; sigma[11] = 0.004784200112; sigma[12] = 0.007475014738; sigma[13] = 0.010520529884; sigma[14] = 0.004732499299; sigma[15] = 0.007695169625; sigma[16] = 0.011185072576; sigma[17] = 0.004968503122; sigma[18] = 0.00762578182; sigma[19] = 0.01020704101; sigma[20] = 0.004703832992; sigma[21] = 0.008133214915; sigma[22] = 0.010288376174; sigma[23] = 0.004473492829; sigma[24] = 0.007847848284; sigma[25] = 0.010262261087; sigma[26] = 0.004757810543; sigma[27] = 0.007807832599; sigma[28] = 0.010325362743; sigma[29] = 0.004669329021; sigma[30] = 0.007953553607; sigma[31] = 0.009274142275; sigma[32] = 0.004359790741; sigma[33] = 0.007738780546; sigma[34] = 0.00941843205; sigma[35] = 0.004603972684; sigma[36] = 0.006840643108; sigma[37] = 0.010171671929; sigma[38] = 0.004794412346; sigma[39] = 0.007133116885; sigma[40] = 0.010857621836; sigma[41] = 0.004545096103; sigma[42] = 0.007663229129; sigma[43] = 0.010282376762; sigma[44] = 0.004523029639; sigma[45] = 0.007221037187; sigma[46] = 0.010141390584; sigma[47] = 0.004864062381; sigma[48] = 0.006535006406; sigma[49] = 0.00979757135; sigma[50] = 0.004922823777; sigma[51] = 0.007220265204; sigma[52] = 0.010514606445; sigma[53] = 0.004765503416; sigma[54] = 0.008028516846; sigma[55] = 0.010694934354; sigma[56] = 0.004774269713; sigma[57] = 0.007826507239; sigma[58] = 0.0109318425; sigma[59] = 0.004731320493;
                        votes[0] = 0.096650717703 - gauss(x, theta, sigma);
                        theta[0] = -0.025099009901; theta[1] = 0.004455445545; theta[2] = 0.982920792079; theta[3] = -0.02900990099; theta[4] = 0.007376237624; theta[5] = 0.98198019802; theta[6] = -0.023663366337; theta[7] = 0.001782178218; theta[8] = 0.982079207921; theta[9] = -0.028118811881; theta[10] = 0.00797029703; theta[11] = 0.982574257426; theta[12] = -0.025841584158; theta[13] = 0.006930693069; theta[14] = 0.983069306931; theta[15] = -0.026188118812; theta[16] = 0.005693069307; theta[17] = 0.983316831683; theta[18] = -0.021534653465; theta[19] = 0.000247524752; theta[20] = 0.982772277228; theta[21] = -0.025693069307; theta[22] = 0.001287128713; theta[23] = 0.982425742574; theta[24] = -0.024405940594; theta[25] = 0.002871287129; theta[26] = 0.982376237624; theta[27] = -0.025495049505; theta[28] = 0.00400990099; theta[29] = 0.981633663366; theta[30] = -0.02202970297; theta[31] = 0.004752475248; theta[32] = 0.984306930693; theta[33] = -0.02099009901; theta[34] = 0.003267326733; theta[35] = 0.983762376238; theta[36] = -0.021138613861; theta[37] = 0.003118811881; theta[38] = 0.984752475248; theta[39] = -0.022722772277; theta[40] = 0.004207920792; theta[41] = 0.98396039604; theta[42] = -0.022277227723; theta[43] = 0.002623762376; theta[44] = 0.983514851485; theta[45] = -0.024603960396; theta[46] = 0.003861386139; theta[47] = 0.982277227723; theta[48] = -0.027079207921; theta[49] = 0.004455445545; theta[50] = 0.980445544554; theta[51] = -0.026485148515; theta[52] = 0.007376237624; theta[53] = 0.981633663366; theta[54] = -0.025544554455; theta[55] = 0.007079207921; theta[56] = 0.983465346535; theta[57] = -0.027722772277; theta[58] = 0.007673267327; theta[59] = 0.983910891089;
                        sigma[0] = 0.008475485281; sigma[1] = 0.008155396564; sigma[2] = 0.004695924453; sigma[3] = 0.00825644548; sigma[4] = 0.008564898083; sigma[5] = 0.004917861028; sigma[6] = 0.008159847108; sigma[7] = 0.008214645657; sigma[8] = 0.005001617522; sigma[9] = 0.008007352254; sigma[10] = 0.008159741726; sigma[11] = 0.005150798975; sigma[12] = 0.008121321473; sigma[13] = 0.008943054636; sigma[14] = 0.004797510082; sigma[15] = 0.008412697319; sigma[16] = 0.008396796917; sigma[17] = 0.004778602622; sigma[18] = 0.007727842893; sigma[19] = 0.008688552627; sigma[20] = 0.005142809562; sigma[21] = 0.008260163253; sigma[22] = 0.009283491848; sigma[23] = 0.004824313827; sigma[24] = 0.008375142177; sigma[25] = 0.008912547823; sigma[26] = 0.005236927786; sigma[27] = 0.00802475496; sigma[28] = 0.008574514787; sigma[29] = 0.004943370782; sigma[30] = 0.00826568232; sigma[31] = 0.008779394211; sigma[32] = 0.00514333157; sigma[33] = 0.008358425679; sigma[34] = 0.009739819659; sigma[35] = 0.004933369311; sigma[36] = 0.008122961018; sigma[37] = 0.008985817601; sigma[38] = 0.005005136785; sigma[39] = 0.00790793308; sigma[40] = 0.008330313239; sigma[41] = 0.005142731139; sigma[42] = 0.008607685555; sigma[43] = 0.008847076301; sigma[44] = 0.004915863675; sigma[45] = 0.008596130315; sigma[46] = 0.009260337256; sigma[47] = 0.004877982585; sigma[48] = 0.007964241285; sigma[49] = 0.009350446069; sigma[50] = 0.005077524296; sigma[51] = 0.008067348823; sigma[52] = 0.008804502044; sigma[53] = 0.005243370782; sigma[54] = 0.007727673791; sigma[55] = 0.008299884849; sigma[56] = 0.005136506259; sigma[57] = 0.008034418228; sigma[58] = 0.008297061597; sigma[59] = 0.004921833678;
                        votes[1] = 0.096650717703 - gauss(x, theta, sigma);
                        theta[0] = -0.031459074733; theta[1] = 0.060053380783; theta[2] = 0.981049822064; theta[3] = -0.034110320285; theta[4] = 0.057010676157; theta[5] = 0.974857651246; theta[6] = -0.030836298932; theta[7] = 0.057580071174; theta[8] = 0.980213523132; theta[9] = -0.032455516014; theta[10] = 0.055711743772; theta[11] = 0.977704626335; theta[12] = -0.032224199288; theta[13] = 0.059946619217; theta[14] = 0.978309608541; theta[15] = -0.031103202847; theta[16] = 0.054768683274; theta[17] = 0.977615658363; theta[18] = -0.032775800712; theta[19] = 0.059021352313; theta[20] = 0.977241992883; theta[21] = -0.030480427046; theta[22] = 0.057989323843; theta[23] = 0.977651245552; theta[24] = -0.030551601423; theta[25] = 0.056512455516; theta[26] = 0.978167259786; theta[27] = -0.03090747331; theta[28] = 0.054822064057; theta[29] = 0.980106761566; theta[30] = -0.032544483986; theta[31] = 0.054644128114; theta[32] = 0.975462633452; theta[33] = -0.030640569395; theta[34] = 0.055604982206; theta[35] = 0.978861209964; theta[36] = -0.033309608541; theta[37] = 0.059323843416; theta[38] = 0.977580071174; theta[39] = -0.029537366548; theta[40] = 0.060053380783; theta[41] = 0.982508896797; theta[42] = -0.033291814947; theta[43] = 0.058505338078; theta[44] = 0.977455516014; theta[45] = -0.032153024911; theta[46] = 0.057953736655; theta[47] = 0.979519572954; theta[48] = -0.033060498221; theta[49] = 0.05615658363; theta[50] = 0.977384341637; theta[51] = -0.032793594306; theta[52] = 0.058861209964; theta[53] = 0.977740213523; theta[54] = -0.030533807829; theta[55] = 0.054199288256; theta[56] = 0.981512455516; theta[57] = -0.03475088968; theta[58] = 0.059590747331; theta[59] = 0.977989323843;
                        sigma[0] = 0.00763666117; sigma[1] = 0.014516189355; sigma[2] = 0.009081993993; sigma[3] = 0.007373674696; sigma[4] = 0.014661170738; sigma[5] = 0.008505406817; sigma[6] = 0.007437912738; sigma[7] = 0.014867453587; sigma[8] = 0.009099242698; sigma[9] = 0.007326354817; sigma[10] = 0.014213105554; sigma[11] = 0.009136190368; sigma[12] = 0.008010177527; sigma[13] = 0.014660317469; sigma[14] = 0.00933184012; sigma[15] = 0.007383480486; sigma[16] = 0.014692918057; sigma[17] = 0.008569048045; sigma[18] = 0.007455284288; sigma[19] = 0.014786764703; sigma[20] = 0.008837055352; sigma[21] = 0.007102438263; sigma[22] = 0.013273715222; sigma[23] = 0.008935408653; sigma[24] = 0.007646492923; sigma[25] = 0.014558299701; sigma[26] = 0.009053046791; sigma[27] = 0.007536365138; sigma[28] = 0.014811445241; sigma[29] = 0.00912347618; sigma[30] = 0.007460963358; sigma[31] = 0.015301741717; sigma[32] = 0.008682793122; sigma[33] = 0.007334821022; sigma[34] = 0.014187979226; sigma[35] = 0.008986247675; sigma[36] = 0.00771822802; sigma[37] = 0.014505236796; sigma[38] = 0.009058200918; sigma[39] = 0.007359928353; sigma[40] = 0.014149641313; sigma[41] = 0.008856872731; sigma[42] = 0.007459804558; sigma[43] = 0.014471075628; sigma[44] = 0.008906514959; sigma[45] = 0.00716280224; sigma[46] = 0.014358624228; sigma[47] = 0.009083221181; sigma[48] = 0.007362875377; sigma[49] = 0.013864587615; sigma[50] = 0.008755969753; sigma[51] = 0.007367462769; sigma[52] = 0.014243543049; sigma[53] = 0.008899341798; sigma[54] = 0.007396868108; sigma[55] = 0.01465745498; sigma[56] = 0.009029563046; sigma[57] = 0.007299315202; sigma[58] = 0.014155170625; sigma[59] = 0.008811793514;
                        votes[2] = 0.268899521531 - gauss(x, theta, sigma);
                        theta[0] = -0.035266903915; theta[1] = -0.009110320285; theta[2] = 0.978523131673; theta[3] = -0.03603202847; theta[4] = -0.009341637011; theta[5] = 0.979483985765; theta[6] = -0.034039145907; theta[7] = -0.010978647687; theta[8] = 0.979483985765; theta[9] = -0.035177935943; theta[10] = -0.008220640569; theta[11] = 0.977864768683; theta[12] = -0.034608540925; theta[13] = -0.004341637011; theta[14] = 0.980444839858; theta[15] = -0.034822064057; theta[16] = -0.005160142349; theta[17] = 0.978362989324; theta[18] = -0.03615658363; theta[19] = -0.002971530249; theta[20] = 0.978434163701; theta[21] = -0.034021352313; theta[22] = -0.005391459075; theta[23] = 0.979964412811; theta[24] = -0.036103202847; theta[25] = -0.004288256228; theta[26] = 0.978131672598; theta[27] = -0.037455516014; theta[28] = -0.001797153025; theta[29] = 0.978185053381; theta[30] = -0.037081850534; theta[31] = -0.001761565836; theta[32] = 0.977366548043; theta[33] = -0.038096085409; theta[34] = -0.000533807829; theta[35] = 0.977775800712; theta[36] = -0.036334519573; theta[37] = 0.000320284698; theta[38] = 0.979341637011; theta[39] = -0.037704626335; theta[40] = -0.004804270463; theta[41] = 0.977775800712; theta[42] = -0.036298932384; theta[43] = -0.007918149466; theta[44] = 0.97871886121; theta[45] = -0.035444839858; theta[46] = -0.01115658363; theta[47] = 0.978701067616; theta[48] = -0.0378113879; theta[49] = -0.007366548043; theta[50] = 0.97871886121; theta[51] = -0.035516014235; theta[52] = -0.005409252669; theta[53] = 0.978309608541; theta[54] = -0.036245551601; theta[55] = -0.003914590747; theta[56] = 0.97706405694; theta[57] = -0.036174377224; theta[58] = -0.004412811388; theta[59] = 0.977099644128;
                        sigma[0] = 0.003506067586; sigma[1] = 0.021502055479; sigma[2] = 0.004138922097; sigma[3] = 0.003541372674; sigma[4] = 0.021463445596; sigma[5] = 0.004118417037; sigma[6] = 0.003425144409; sigma[7] = 0.021247618795; sigma[8] = 0.00409813234; sigma[9] = 0.003472299334; sigma[10] = 0.021210001174; sigma[11] = 0.004077291355; sigma[12] = 0.003509900175; sigma[13] = 0.020761577268; sigma[14] = 0.004092150906; sigma[15] = 0.003474434565; sigma[16] = 0.020766611399; sigma[17] = 0.00414820991; sigma[18] = 0.003596260213; sigma[19] = 0.020855404917; sigma[20] = 0.00411818876; sigma[21] = 0.003515145486; sigma[22] = 0.021223067434; sigma[23] = 0.004091813714; sigma[24] = 0.003372537426; sigma[25] = 0.020461860003; sigma[26] = 0.004026224689; sigma[27] = 0.003477333464; sigma[28] = 0.020026129706; sigma[29] = 0.004014855469; sigma[30] = 0.003534900808; sigma[31] = 0.021399210087; sigma[32] = 0.004013705534; sigma[33] = 0.003296908951; sigma[34] = 0.019585124336; sigma[35] = 0.00401266863; sigma[36] = 0.003407560728; sigma[37] = 0.019190644783; sigma[38] = 0.004036755204; sigma[39] = 0.003383877201; sigma[40] = 0.020122826493; sigma[41] = 0.004118718452; sigma[42] = 0.003348935584; sigma[43] = 0.021265594758; sigma[44] = 0.004002985052; sigma[45] = 0.003386367988; sigma[46] = 0.021663608967; sigma[47] = 0.004040483627; sigma[48] = 0.003444142395; sigma[49] = 0.020867442189; sigma[50] = 0.004006543771; sigma[51] = 0.003455694617; sigma[52] = 0.019976078098; sigma[53] = 0.003984509159; sigma[54] = 0.003441598101; sigma[55] = 0.019721686689; sigma[56] = 0.004070561767; sigma[57] = 0.003514368203; sigma[58] = 0.019924655243; sigma[59] = 0.003982157365;
                        votes[3] = 0.268899521531 - gauss(x, theta, sigma);
                        theta[0] = -0.040177935943; theta[1] = -0.008060498221; theta[2] = 0.978576512456; theta[3] = -0.036494661922; theta[4] = -0.011085409253; theta[5] = 0.98115658363; theta[6] = -0.037597864769; theta[7] = -0.009537366548; theta[8] = 0.980996441281; theta[9] = -0.039608540925; theta[10] = -0.008896797153; theta[11] = 0.979359430605; theta[12] = -0.036192170819; theta[13] = -0.009377224199; theta[14] = 0.981512455516; theta[15] = -0.040747330961; theta[16] = -0.005925266904; theta[17] = 0.977704626335; theta[18] = -0.035355871886; theta[19] = -0.00896797153; theta[20] = 0.982633451957; theta[21] = -0.038523131673; theta[22] = -0.010996441281; theta[23] = 0.978772241993; theta[24] = -0.036939501779; theta[25] = -0.006565836299; theta[26] = 0.982473309609; theta[27] = -0.037846975089; theta[28] = -0.008291814947; theta[29] = 0.97987544484; theta[30] = -0.035516014235; theta[31] = -0.010088967972; theta[32] = 0.98115658363; theta[33] = -0.039039145907; theta[34] = -0.006850533808; theta[35] = 0.981245551601; theta[36] = -0.035711743772; theta[37] = -0.010854092527; theta[38] = 0.979982206406; theta[39] = -0.039804270463; theta[40] = -0.008220640569; theta[41] = 0.980516014235; theta[42] = -0.034697508897; theta[43] = -0.014911032028; theta[44] = 0.980818505338; theta[45] = -0.038558718861; theta[46] = -0.011049822064; theta[47] = 0.979893238434; theta[48] = -0.036779359431; theta[49] = -0.011886120996; theta[50] = 0.979483985765; theta[51] = -0.038665480427; theta[52] = -0.008202846975; theta[53] = 0.979804270463; theta[54] = -0.039857651246; theta[55] = -0.007348754448; theta[56] = 0.976939501779; theta[57] = -0.036298932384; theta[58] = -0.012758007117; theta[59] = 0.98231316726;
                        sigma[0] = 0.003233776202; sigma[1] = 0.016677199221; sigma[2] = 0.003109361618; sigma[3] = 0.003282552497; sigma[4] = 0.01692035217; sigma[5] = 0.003096705053; sigma[6] = 0.003369140812; sigma[7] = 0.016535373193; sigma[8] = 0.00307089326; sigma[9] = 0.003211946438; sigma[10] = 0.016645758066; sigma[11] = 0.00317610216; sigma[12] = 0.003315749581; sigma[13] = 0.016645697594; sigma[14] = 0.003024224968; sigma[15] = 0.003282715552; sigma[16] = 0.016319517581; sigma[17] = 0.003100247308; sigma[18] = 0.003294268407; sigma[19] = 0.016807120005; sigma[20] = 0.003118687741; sigma[21] = 0.003237142737; sigma[22] = 0.01670114237; sigma[23] = 0.003073047804; sigma[24] = 0.003425508829; sigma[25] = 0.01598838449; sigma[26] = 0.003052423699; sigma[27] = 0.003252481955; sigma[28] = 0.015665765412; sigma[29] = 0.003001230072; sigma[30] = 0.003417972197; sigma[31] = 0.016604084645; sigma[32] = 0.003065388327; sigma[33] = 0.003311176438; sigma[34] = 0.016889191217; sigma[35] = 0.003055388137; sigma[36] = 0.003332678508; sigma[37] = 0.016518843514; sigma[38] = 0.003118682991; sigma[39] = 0.003344979518; sigma[40] = 0.017075481601; sigma[41] = 0.00305293661; sigma[42] = 0.003207470811; sigma[43] = 0.016855597101; sigma[44] = 0.003106091649; sigma[45] = 0.003310200323; sigma[46] = 0.016900143459; sigma[47] = 0.002994294686; sigma[48] = 0.003225392633; sigma[49] = 0.016063346496; sigma[50] = 0.003033719528; sigma[51] = 0.00331405539; sigma[52] = 0.016039296965; sigma[53] = 0.003198716172; sigma[54] = 0.003132008241; sigma[55] = 0.016103469152; sigma[56] = 0.003067501712; sigma[57] = 0.003370999641; sigma[58] = 0.016208941473; sigma[59] = 0.003029880608;
                        votes[4] = 0.268899521531 - gauss(x, theta, sigma);
                        // return argmax of votes
                        uint8_t classIdx = 0;
                        float maxVotes = votes[0];

                        for (uint8_t i = 1; i < 5; i++) {
                            if (votes[i] > maxVotes) {
                                classIdx = i;
                                maxVotes = votes[i];
                            }
                        }

                        return classIdx;
                    }

                protected:
                    /**
                    * Compute gaussian value
                    */
                    float gauss(float *x, float *theta, float *sigma) {
                        float gauss = 0.0f;

                        for (uint16_t i = 0; i < 60; i++) {
                            gauss += log(sigma[i]);
                            gauss += abs(x[i] - theta[i]) / sigma[i];
                        }

                        return gauss;
                    }
                };
            }
        }
    }