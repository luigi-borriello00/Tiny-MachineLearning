#pragma once
#include <cstdarg>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class GaussianNB {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float votes[5] = { 0.0f };
                        float theta[60] = { 0 };
                        float sigma[60] = { 0 };
                        theta[0] = 0.027389277389; theta[1] = -0.21440018315; theta[2] = 0.033653846154; theta[3] = 0.028846153846; theta[4] = -0.202136752137; theta[5] = 0.040731837607; theta[6] = 0.037126068376; theta[7] = -0.215598290598; theta[8] = 0.036591880342; theta[9] = 0.037793803419; theta[10] = -0.247481684982; theta[11] = 0.035790598291; theta[12] = 0.042868589744; theta[13] = -0.239423076923; theta[14] = 0.029780982906; theta[15] = 0.06063034188; theta[16] = -0.272092490842; theta[17] = 0.029780982906; theta[18] = 0.060229700855; theta[19] = -0.254835807467; theta[20] = 0.025908119658; theta[21] = 0.045891608392; theta[22] = -0.226175213675; theta[23] = 0.028979700855; theta[24] = 0.027510683761; theta[25] = -0.204700854701; theta[26] = 0.118456196581; theta[27] = 0.022144522145; theta[28] = -0.205876068376; theta[29] = 0.036992521368; theta[30] = 0.02390491453; theta[31] = -0.202884615385; theta[32] = 0.037927350427; theta[33] = 0.009481837607; theta[34] = -0.213942307692; theta[35] = 0.027777777778; theta[36] = 0.012553418803; theta[37] = -0.199786324786; theta[38] = 0.024038461538; theta[39] = 0.011084401709; theta[40] = -0.184615384615; theta[41] = 0.025106837607; theta[42] = 0.021634615385; theta[43] = -0.202724358974; theta[44] = 0.041266025641; theta[45] = 0.028445512821; theta[46] = -0.20641025641; theta[47] = 0.037352071006; theta[48] = 0.012152777778; theta[49] = -0.209722222222; theta[50] = 0.034054487179; theta[51] = 0.017227564103; theta[52] = -0.241987179487; theta[53] = 0.022836538462; theta[54] = 0.040646853147; theta[55] = -0.250337381916; theta[56] = 0.100827991453; theta[57] = 0.076631701632; theta[58] = -0.271978021978; theta[59] = 0.107371794872;
                        sigma[0] = 0.647162522388; sigma[1] = 0.509312848193; sigma[2] = 0.274686508495; sigma[3] = 0.534758178723; sigma[4] = 0.43748831332; sigma[5] = 0.272412767233; sigma[6] = 0.545162789062; sigma[7] = 0.446380626491; sigma[8] = 0.272499176855; sigma[9] = 0.5755058358; sigma[10] = 0.515103549736; sigma[11] = 0.27084332236; sigma[12] = 0.568886555493; sigma[13] = 0.449806221403; sigma[14] = 0.273852677927; sigma[15] = 0.568194511613; sigma[16] = 0.534653864777; sigma[17] = 0.27723586881; sigma[18] = 0.547732338375; sigma[19] = 0.514424355847; sigma[20] = 0.275837852069; sigma[21] = 0.649263425685; sigma[22] = 0.447755030666; sigma[23] = 0.27007141423; sigma[24] = 0.528935115383; sigma[25] = 0.428268501792; sigma[26] = 0.274507571911; sigma[27] = 0.631555605994; sigma[28] = 0.444972595864; sigma[29] = 0.273437911737; sigma[30] = 0.545580176968; sigma[31] = 0.447762335802; sigma[32] = 0.267903576031; sigma[33] = 0.556567414668; sigma[34] = 0.511700236827; sigma[35] = 0.26794723563; sigma[36] = 0.542421651105; sigma[37] = 0.442806223686; sigma[38] = 0.275441562736; sigma[39] = 0.538060453103; sigma[40] = 0.434620865004; sigma[41] = 0.269980403228; sigma[42] = 0.572114744099; sigma[43] = 0.514788170718; sigma[44] = 0.268919000568; sigma[45] = 0.584226912029; sigma[46] = 0.448263753454; sigma[47] = 0.231886951471; sigma[48] = 0.550455498851; sigma[49] = 0.434542232069; sigma[50] = 0.272845368226; sigma[51] = 0.565152375677; sigma[52] = 0.520965361917; sigma[53] = 0.266405577381; sigma[54] = 0.663358960104; sigma[55] = 0.51871718534; sigma[56] = 0.271317424941; sigma[57] = 0.659946613297; sigma[58] = 0.534822436428; sigma[59] = 0.271880309174;
                        votes[0] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = 0.068327505828; theta[1] = -0.238438644689; theta[2] = 0.040731837607; theta[3] = 0.073717948718; theta[4] = -0.240598290598; theta[5] = 0.039797008547; theta[6] = 0.073851495726; theta[7] = -0.250854700855; theta[8] = 0.032318376068; theta[9] = 0.073317307692; theta[10] = -0.264537545788; theta[11] = 0.036057692308; theta[12] = 0.054353632479; theta[13] = -0.239636752137; theta[14] = 0.023504273504; theta[15] = 0.055288461538; theta[16] = -0.261103479853; theta[17] = 0.027110042735; theta[18] = 0.050213675214; theta[19] = -0.261246063878; theta[20] = 0.015491452991; theta[21] = 0.074300699301; theta[22] = -0.24391025641; theta[23] = 0.029914529915; theta[24] = 0.057558760684; theta[25] = -0.23985042735; theta[26] = 0.10844017094; theta[27] = 0.080710955711; theta[28] = -0.237179487179; theta[29] = 0.042735042735; theta[30] = 0.072783119658; theta[31] = -0.251175213675; theta[32] = 0.027644230769; theta[33] = 0.097622863248; theta[34] = -0.287431318681; theta[35] = 0.040197649573; theta[36] = 0.069177350427; theta[37] = -0.240384615385; theta[38] = 0.027377136752; theta[39] = 0.060096153846; theta[40] = -0.229914529915; theta[41] = 0.030849358974; theta[42] = 0.064503205128; theta[43] = -0.264194139194; theta[44] = 0.017761752137; theta[45] = 0.072248931624; theta[46] = -0.238888888889; theta[47] = 0.037968441815; theta[48] = 0.05702457265; theta[49] = -0.250320512821; theta[50] = 0.023103632479; theta[51] = 0.069711538462; theta[52] = -0.255608974359; theta[53] = 0.039396367521; theta[54] = 0.073863636364; theta[55] = -0.25730994152; theta[56] = 0.109241452991; theta[57] = 0.088432400932; theta[58] = -0.269917582418; theta[59] = 0.115251068376;
                        sigma[0] = 0.642409653972; sigma[1] = 0.426998728018; sigma[2] = 0.379361663244; sigma[3] = 0.581504768138; sigma[4] = 0.387497079483; sigma[5] = 0.384567374861; sigma[6] = 0.565381517233; sigma[7] = 0.400861094385; sigma[8] = 0.388912789062; sigma[9] = 0.572315546152; sigma[10] = 0.466527279824; sigma[11] = 0.388234210459; sigma[12] = 0.550631421353; sigma[13] = 0.401470239958; sigma[14] = 0.397551183142; sigma[15] = 0.556749989552; sigma[16] = 0.457065358961; sigma[17] = 0.381131589142; sigma[18] = 0.568636886079; sigma[19] = 0.450860912263; sigma[20] = 0.38813697511; sigma[21] = 0.663026769349; sigma[22] = 0.411127446474; sigma[23] = 0.39582876916; sigma[24] = 0.550562079637; sigma[25] = 0.399117073182; sigma[26] = 0.38792466961; sigma[27] = 0.655199029878; sigma[28] = 0.399272957925; sigma[29] = 0.389444194867; sigma[30] = 0.552628633987; sigma[31] = 0.409425258586; sigma[32] = 0.394256720407; sigma[33] = 0.563954019561; sigma[34] = 0.471289897395; sigma[35] = 0.395252473155; sigma[36] = 0.555288391736; sigma[37] = 0.401602702611; sigma[38] = 0.388996309447; sigma[39] = 0.541883468075; sigma[40] = 0.39431879765; sigma[41] = 0.387814789385; sigma[42] = 0.538874861569; sigma[43] = 0.452522886924; sigma[44] = 0.393369973977; sigma[45] = 0.540219463074; sigma[46] = 0.393587370957; sigma[47] = 0.333996875674; sigma[48] = 0.568451814323; sigma[49] = 0.40263166519; sigma[50] = 0.38967945376; sigma[51] = 0.556149028013; sigma[52] = 0.451924323256; sigma[53] = 0.388594384316; sigma[54] = 0.656403139119; sigma[55] = 0.44302915186; sigma[56] = 0.386036391955; sigma[57] = 0.673984649489; sigma[58] = 0.453243401338; sigma[59] = 0.395560230524;
                        votes[1] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = 0.001165501166; theta[1] = 0.111721611722; theta[2] = 0.008547008547; theta[3] = -0.007612179487; theta[4] = 0.105555555556; theta[5] = -0.007077991453; theta[6] = -0.023237179487; theta[7] = 0.126602564103; theta[8] = -0.006543803419; theta[9] = -0.012152777778; theta[10] = 0.125114468864; theta[11] = -0.020833333333; theta[12] = -0.04500534188; theta[13] = 0.140918803419; theta[14] = -0.027510683761; theta[15] = -0.01749465812; theta[16] = 0.144230769231; theta[17] = -0.008413461538; theta[18] = -0.028846153846; theta[19] = 0.132253711201; theta[20] = -0.020032051282; theta[21] = -0.02331002331; theta[22] = 0.125; theta[23] = -0.01655982906; theta[24] = -0.033787393162; theta[25] = 0.120085470085; theta[26] = 0.044738247863; theta[27] = -0.007138694639; theta[28] = 0.111858974359; theta[29] = -0.007879273504; theta[30] = -0.019364316239; theta[31] = 0.109615384615; theta[32] = -0.022702991453; theta[33] = -0.00921474359; theta[34] = 0.140567765568; theta[35] = -0.001201923077; theta[36] = -0.017628205128; theta[37] = 0.11688034188; theta[38] = -0.03031517094; theta[39] = -0.010817307692; theta[40] = 0.114957264957; theta[41] = -0.024305555556; theta[42] = 0.000400641026; theta[43] = 0.101419413919; theta[44] = -0.017227564103; theta[45] = 0.007612179487; theta[46] = 0.116346153846; theta[47] = 0.018737672584; theta[48] = -0.02203525641; theta[49] = 0.126495726496; theta[50] = -0.00547542735; theta[51] = -0.047275641026; theta[52] = 0.150641025641; theta[53] = -0.038060897436; theta[54] = -0.013111888112; theta[55] = 0.117071524966; theta[56] = 0.068776709402; theta[57] = -0.029428904429; theta[58] = 0.13038003663; theta[59] = 0.050747863248;
                        sigma[0] = 0.616548759694; sigma[1] = 0.729423699024; sigma[2] = 0.626663061293; sigma[3] = 0.522211019935; sigma[4] = 0.665524692895; sigma[5] = 0.623358468389; sigma[6] = 0.53629675155; sigma[7] = 0.668067233895; sigma[8] = 0.628551820487; sigma[9] = 0.526951225347; sigma[10] = 0.72689771868; sigma[11] = 0.616575411081; sigma[12] = 0.509403918887; sigma[13] = 0.637300012038; sigma[14] = 0.622996725069; sigma[15] = 0.506426933488; sigma[16] = 0.744111144515; sigma[17] = 0.613032402524; sigma[18] = 0.533756576159; sigma[19] = 0.713069050851; sigma[20] = 0.628360292532; sigma[21] = 0.608086650707; sigma[22] = 0.642323719485; sigma[23] = 0.62225515394; sigma[24] = 0.509085888671; sigma[25] = 0.645009680841; sigma[26] = 0.617178066926; sigma[27] = 0.617492481983; sigma[28] = 0.629047400452; sigma[29] = 0.629356098785; sigma[30] = 0.530863895876; sigma[31] = 0.672457403465; sigma[32] = 0.629381299363; sigma[33] = 0.521315998157; sigma[34] = 0.719873096238; sigma[35] = 0.620580376718; sigma[36] = 0.517384226553; sigma[37] = 0.654515625395; sigma[38] = 0.611872569583; sigma[39] = 0.507506295796; sigma[40] = 0.643351780337; sigma[41] = 0.619378970851; sigma[42] = 0.518329167947; sigma[43] = 0.708529514797; sigma[44] = 0.625404334367; sigma[45] = 0.514042394579; sigma[46] = 0.679917989976; sigma[47] = 0.514859036196; sigma[48] = 0.511611582203; sigma[49] = 0.64985353357; sigma[50] = 0.63274913448; sigma[51] = 0.517529972567; sigma[52] = 0.722630412182; sigma[53] = 0.620112534153; sigma[54] = 0.621040201139; sigma[55] = 0.706271215013; sigma[56] = 0.631921742276; sigma[57] = 0.592930296281; sigma[58] = 0.73798044319; sigma[59] = 0.598920382408;
                        votes[2] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = -0.057255244755; theta[1] = -0.329441391941; theta[2] = -0.013488247863; theta[3] = -0.041533119658; theta[4] = -0.305235042735; theta[5] = -0.013621794872; theta[6] = -0.050347222222; theta[7] = -0.286431623932; theta[8] = -0.005074786325; theta[9] = -0.029780982906; theta[10] = -0.328983516484; theta[11] = -0.005341880342; theta[12] = -0.041800213675; theta[13] = -0.316987179487; theta[14] = -0.011885683761; theta[15] = -0.032318376068; theta[16] = -0.347184065934; theta[17] = 0.000400641026; theta[18] = -0.039930555556; theta[19] = -0.328609986505; theta[20] = 0.001201923077; theta[21] = -0.041812354312; theta[22] = -0.313354700855; theta[23] = 0.001469017094; theta[24] = -0.049545940171; theta[25] = -0.307692307692; theta[26] = 0.062900641026; theta[27] = -0.046474358974; theta[28] = -0.301388888889; theta[29] = -0.006143162393; theta[30] = -0.054487179487; theta[31] = -0.276816239316; theta[32] = -0.016960470085; theta[33] = -0.053151709402; theta[34] = -0.298992673993; theta[35] = -0.006143162393; theta[36] = -0.051148504274; theta[37] = -0.288782051282; theta[38] = -0.011885683761; theta[39] = -0.05515491453; theta[40] = -0.313782051282; theta[41] = -0.017628205128; theta[42] = -0.060763888889; theta[43] = -0.332417582418; theta[44] = -0.020299145299; theta[45] = -0.049278846154; theta[46] = -0.297222222222; theta[47] = -0.012450690335; theta[48] = -0.065972222222; theta[49] = -0.279487179487; theta[50] = -0.019898504274; theta[51] = -0.051549145299; theta[52] = -0.328296703297; theta[53] = -0.016292735043; theta[54] = -0.043414918415; theta[55] = -0.339968511021; theta[56] = 0.070646367521; theta[57] = -0.059294871795; theta[58] = -0.3350503663; theta[59] = 0.064636752137;
                        sigma[0] = 0.284481427381; sigma[1] = 1.042518213827; sigma[2] = 0.276494083664; sigma[3] = 0.243500695953; sigma[4] = 0.911596527488; sigma[5] = 0.284558928298; sigma[6] = 0.243136009891; sigma[7] = 0.923248949141; sigma[8] = 0.28445163412; sigma[9] = 0.243537506987; sigma[10] = 1.052451427743; sigma[11] = 0.280509215139; sigma[12] = 0.24278844524; sigma[13] = 0.940053317612; sigma[14] = 0.286216905135; sigma[15] = 0.241053992766; sigma[16] = 1.093593589582; sigma[17] = 0.275896831764; sigma[18] = 0.24398737207; sigma[19] = 1.025192550541; sigma[20] = 0.279857442245; sigma[21] = 0.283547871814; sigma[22] = 0.922314530995; sigma[23] = 0.283084114893; sigma[24] = 0.247200204911; sigma[25] = 0.92417159917; sigma[26] = 0.284427146935; sigma[27] = 0.2834541427; sigma[28] = 0.926151918678; sigma[29] = 0.279787761668; sigma[30] = 0.228801982142; sigma[31] = 0.848223198538; sigma[32] = 0.282420232168; sigma[33] = 0.245817169404; sigma[34] = 1.035554324351; sigma[35] = 0.282213865657; sigma[36] = 0.235843144725; sigma[37] = 0.886298660588; sigma[38] = 0.278827303996; sigma[39] = 0.233035661299; sigma[40] = 0.892402649192; sigma[41] = 0.275419304901; sigma[42] = 0.237549293367; sigma[43] = 1.048937327947; sigma[44] = 0.280704399228; sigma[45] = 0.233471258539; sigma[46] = 0.88795524845; sigma[47] = 0.242230431703; sigma[48] = 0.23614357199; sigma[49] = 0.907342758495; sigma[50] = 0.275968456335; sigma[51] = 0.23683698915; sigma[52] = 1.039722584357; sigma[53] = 0.280383586783; sigma[54] = 0.289861279051; sigma[55] = 1.052504689167; sigma[56] = 0.28319240782; sigma[57] = 0.277038792316; sigma[58] = 1.062625149445; sigma[59] = 0.285374264175;
                        votes[3] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = -0.064393939394; theta[1] = -0.360004578755; theta[2] = 0.005341880342; theta[3] = -0.077323717949; theta[4] = -0.326388888889; theta[5] = -0.01749465812; theta[6] = -0.059428418803; theta[7] = -0.332264957265; theta[8] = 0.011084401709; theta[9] = -0.066372863248; theta[10] = -0.353365384615; theta[11] = -0.002003205128; theta[12] = -0.071848290598; theta[13] = -0.329487179487; theta[14] = -0.004540598291; theta[15] = -0.063568376068; theta[16] = -0.365842490842; theta[17] = -0.003205128205; theta[18] = -0.06797542735; theta[19] = -0.350539811066; theta[20] = -0.002804487179; theta[21] = -0.076923076923; theta[22] = -0.327991452991; theta[23] = 0.006009615385; theta[24] = -0.072115384615; theta[25] = -0.325641025641; theta[26] = 0.078926282051; theta[27] = -0.083041958042; theta[28] = -0.312072649573; theta[29] = -0.004674145299; theta[30] = -0.058627136752; theta[31] = -0.313888888889; theta[32] = 0.006009615385; theta[33] = -0.067841880342; theta[34] = -0.347413003663; theta[35] = -0.000400641026; theta[36] = -0.067441239316; theta[37] = -0.314102564103; theta[38] = 0.010283119658; theta[39] = -0.072783119658; theta[40] = -0.33108974359; theta[41] = -0.010016025641; theta[42] = -0.068776709402; theta[43] = -0.353708791209; theta[44] = 0.003605769231; theta[45] = -0.065304487179; theta[46] = -0.338354700855; theta[47] = -0.00209566075; theta[48] = -0.069577991453; theta[49] = -0.326923076923; theta[50] = 0.001201923077; theta[51] = -0.062232905983; theta[52] = -0.355425824176; theta[53] = -0.003205128205; theta[54] = -0.072406759907; theta[55] = -0.365609536662; theta[56] = 0.07719017094; theta[57] = -0.078671328671; theta[58] = -0.356112637363; theta[59] = 0.074118589744;
                        sigma[0] = 0.271176583793; sigma[1] = 0.840414038669; sigma[2] = 0.211265091207; sigma[3] = 0.22996522153; sigma[4] = 0.756126989903; sigma[5] = 0.215917674229; sigma[6] = 0.232701793778; sigma[7] = 0.743631338742; sigma[8] = 0.215366364784; sigma[9] = 0.22704273929; sigma[10] = 0.868976116853; sigma[11] = 0.215908114774; sigma[12] = 0.228055417267; sigma[13] = 0.753646177298; sigma[14] = 0.21492329476; sigma[15] = 0.230801477631; sigma[16] = 0.838016285467; sigma[17] = 0.215912983676; sigma[18] = 0.228608064323; sigma[19] = 0.810576712137; sigma[20] = 0.214346214024; sigma[21] = 0.266492250547; sigma[22] = 0.743447249327; sigma[23] = 0.212537336914; sigma[24] = 0.232602079391; sigma[25] = 0.73303199803; sigma[26] = 0.208191494678; sigma[27] = 0.270890642073; sigma[28] = 0.738102115917; sigma[29] = 0.214888677407; sigma[30] = 0.229925128892; sigma[31] = 0.730433880929; sigma[32] = 0.211669281359; sigma[33] = 0.228770878244; sigma[34] = 0.814915470159; sigma[35] = 0.212617807548; sigma[36] = 0.232731328212; sigma[37] = 0.727621632043; sigma[38] = 0.215672838047; sigma[39] = 0.225460720881; sigma[40] = 0.740244255591; sigma[41] = 0.218193395155; sigma[42] = 0.230234598402; sigma[43] = 0.858929862312; sigma[44] = 0.211469816917; sigma[45] = 0.233949801987; sigma[46] = 0.76662008655; sigma[47] = 0.182147407649; sigma[48] = 0.232527583417; sigma[49] = 0.733790818981; sigma[50] = 0.215932940821; sigma[51] = 0.223134723645; sigma[52] = 0.822529431671; sigma[53] = 0.210214977978; sigma[54] = 0.274172922754; sigma[55] = 0.799405723198; sigma[56] = 0.209119136312; sigma[57] = 0.268021461429; sigma[58] = 0.8548115383; sigma[59] = 0.211242102146;
                        votes[4] = 0.2 - gauss(x, theta, sigma);
                        // return argmax of votes
                        uint8_t classIdx = 0;
                        float maxVotes = votes[0];

                        for (uint8_t i = 1; i < 5; i++) {
                            if (votes[i] > maxVotes) {
                                classIdx = i;
                                maxVotes = votes[i];
                            }
                        }

                        return classIdx;
                    }

                protected:
                    /**
                    * Compute gaussian value
                    */
                    float gauss(float *x, float *theta, float *sigma) {
                        float gauss = 0.0f;

                        for (uint16_t i = 0; i < 60; i++) {
                            gauss += log(sigma[i]);
                            gauss += abs(x[i] - theta[i]) / sigma[i];
                        }

                        return gauss;
                    }
                };
            }
        }
    }