#pragma once
#include <cstdarg>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class GaussianNB {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float votes[5] = { 0.0f };
                        float theta[60] = { 0 };
                        float sigma[60] = { 0 };
                        theta[0] = -0.026987179487; theta[1] = 0.009983974359; theta[2] = 0.984038461538; theta[3] = -0.026538461538; theta[4] = 0.009679487179; theta[5] = 0.984887820513; theta[6] = -0.025544871795; theta[7] = 0.00766025641; theta[8] = 0.984391025641; theta[9] = -0.02546474359; theta[10] = 0.005352564103; theta[11] = 0.984294871795; theta[12] = -0.024855769231; theta[13] = 0.004086538462; theta[14] = 0.983573717949; theta[15] = -0.022724358974; theta[16] = 0.001907051282; theta[17] = 0.983573717949; theta[18] = -0.022772435897; theta[19] = 0.003685897436; theta[20] = 0.983108974359; theta[21] = -0.024951923077; theta[22] = 0.006073717949; theta[23] = 0.983477564103; theta[24] = -0.026698717949; theta[25] = 0.009294871795; theta[26] = 0.98421474359; theta[27] = -0.027564102564; theta[28] = 0.009118589744; theta[29] = 0.984439102564; theta[30] = -0.027131410256; theta[31] = 0.009567307692; theta[32] = 0.984551282051; theta[33] = -0.028862179487; theta[34] = 0.010048076923; theta[35] = 0.983333333333; theta[36] = -0.028493589744; theta[37] = 0.010032051282; theta[38] = 0.982884615385; theta[39] = -0.028669871795; theta[40] = 0.012307692308; theta[41] = 0.983012820513; theta[42] = -0.027403846154; theta[43] = 0.011618589744; theta[44] = 0.984951923077; theta[45] = -0.026586538462; theta[46] = 0.009038461538; theta[47] = 0.984855769231; theta[48] = -0.028541666667; theta[49] = 0.008541666667; theta[50] = 0.984086538462; theta[51] = -0.027932692308; theta[52] = 0.006121794872; theta[53] = 0.982740384615; theta[54] = -0.025528846154; theta[55] = 0.004326923077; theta[56] = 0.982099358974; theta[57] = -0.021570512821; theta[58] = 0.001923076923; theta[59] = 0.982884615385;
                        sigma[0] = 0.007830666532; sigma[1] = 0.009982531825; sigma[2] = 0.00395548573; sigma[3] = 0.007700517782; sigma[4] = 0.009843487045; sigma[5] = 0.003922743856; sigma[6] = 0.00785034417; sigma[7] = 0.010043564092; sigma[8] = 0.003923988155; sigma[9] = 0.008287284044; sigma[10] = 0.010096029575; sigma[11] = 0.00390014385; sigma[12] = 0.008191966407; sigma[13] = 0.010120639977; sigma[14] = 0.00394347857; sigma[15] = 0.008182000975; sigma[16] = 0.01047921575; sigma[17] = 0.003992196519; sigma[18] = 0.007887345681; sigma[19] = 0.010446029575; sigma[20] = 0.003972065078; sigma[21] = 0.007856087462; sigma[22] = 0.010074488186; sigma[23] = 0.003889028373; sigma[24] = 0.00761666567; sigma[25] = 0.009636041286; sigma[26] = 0.003952909044; sigma[27] = 0.007641822844; sigma[28] = 0.010011883402; sigma[29] = 0.003937505937; sigma[30] = 0.007856354556; sigma[31] = 0.010074652551; sigma[32] = 0.003857811503; sigma[33] = 0.008014570779; sigma[34] = 0.010029324642; sigma[35] = 0.003858440201; sigma[36] = 0.007810871784; sigma[37] = 0.009963140028; sigma[38] = 0.003966358511; sigma[39] = 0.007748070533; sigma[40] = 0.009778969458; sigma[41] = 0.003887717814; sigma[42] = 0.008238452323; sigma[43] = 0.010089848146; sigma[44] = 0.003872433616; sigma[45] = 0.008412867541; sigma[46] = 0.010085934448; sigma[47] = 0.003918889484; sigma[48] = 0.007926559191; sigma[49] = 0.009777200217; sigma[50] = 0.00392897331; sigma[51] = 0.008138194218; sigma[52] = 0.010210921094; sigma[53] = 0.003836240322; sigma[54] = 0.008026643429; sigma[55] = 0.010533200844; sigma[56] = 0.003906970927; sigma[57] = 0.007985354032; sigma[58] = 0.010482519754; sigma[59] = 0.00391507646;
                        votes[0] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = -0.022483974359; theta[1] = 0.006618589744; theta[2] = 0.984887820513; theta[3] = -0.021153846154; theta[4] = 0.00391025641; theta[5] = 0.984775641026; theta[6] = -0.021137820513; theta[7] = 0.002371794872; theta[8] = 0.983878205128; theta[9] = -0.021201923077; theta[10] = 0.00296474359; theta[11] = 0.984326923077; theta[12] = -0.023477564103; theta[13] = 0.004054487179; theta[14] = 0.982820512821; theta[15] = -0.023365384615; theta[16] = 0.003445512821; theta[17] = 0.983253205128; theta[18] = -0.023974358974; theta[19] = 0.002772435897; theta[20] = 0.981858974359; theta[21] = -0.021826923077; theta[22] = 0.003413461538; theta[23] = 0.98358974359; theta[24] = -0.023092948718; theta[25] = 0.004022435897; theta[26] = 0.983012820513; theta[27] = -0.021121794872; theta[28] = 0.004423076923; theta[29] = 0.985128205128; theta[30] = -0.021266025641; theta[31] = 0.002323717949; theta[32] = 0.983317307692; theta[33] = -0.01828525641; theta[34] = -0.000240384615; theta[35] = 0.984823717949; theta[36] = -0.021698717949; theta[37] = 0.003942307692; theta[38] = 0.98328525641; theta[39] = -0.022788461538; theta[40] = 0.005512820513; theta[41] = 0.983701923077; theta[42] = -0.022259615385; theta[43] = 0.003012820513; theta[44] = 0.982131410256; theta[45] = -0.021330128205; theta[46] = 0.004166666667; theta[47] = 0.984935897436; theta[48] = -0.023157051282; theta[49] = 0.002451923077; theta[50] = 0.982772435897; theta[51] = -0.021634615385; theta[52] = 0.00421474359; theta[53] = 0.984727564103; theta[54] = -0.021875; theta[55] = 0.003333333333; theta[56] = 0.983108974359; theta[57] = -0.020272435897; theta[58] = 0.002211538462; theta[59] = 0.983830128205;
                        sigma[0] = 0.007773156825; sigma[1] = 0.008369175069; sigma[2] = 0.005462807959; sigma[3] = 0.008373668669; sigma[4] = 0.008718684284; sigma[5] = 0.005537770206; sigma[6] = 0.008141493856; sigma[7] = 0.009019374619; sigma[8] = 0.00560034417; sigma[9] = 0.008241343873; sigma[10] = 0.009143934685; sigma[11] = 0.005590572639; sigma[12] = 0.007929092475; sigma[13] = 0.009033080395; sigma[14] = 0.005724737045; sigma[15] = 0.008017199858; sigma[16] = 0.008958481036; sigma[17] = 0.005488294892; sigma[18] = 0.008188371168; sigma[19] = 0.009155294399; sigma[20] = 0.00558917245; sigma[21] = 0.008022623921; sigma[22] = 0.009250367541; sigma[23] = 0.005699934284; sigma[24] = 0.007928093955; sigma[25] = 0.008980134142; sigma[26] = 0.00558611525; sigma[27] = 0.007927908273; sigma[28] = 0.008983641549; sigma[29] = 0.005607996414; sigma[30] = 0.007957852337; sigma[31] = 0.009212068314; sigma[32] = 0.005677296782; sigma[33] = 0.00812093789; sigma[34] = 0.009237281989; sigma[35] = 0.005691635621; sigma[36] = 0.007996152849; sigma[37] = 0.009036060804; sigma[38] = 0.005601546864; sigma[39] = 0.007803121948; sigma[40] = 0.008872172943; sigma[41] = 0.005584532975; sigma[42] = 0.007759798015; sigma[43] = 0.008869448584; sigma[44] = 0.005664527633; sigma[45] = 0.007779160276; sigma[46] = 0.008855715842; sigma[47] = 0.005644547203; sigma[48] = 0.008185706134; sigma[49] = 0.009059212462; sigma[50] = 0.005611384142; sigma[51] = 0.008008546011; sigma[52] = 0.008857716736; sigma[53] = 0.005595759142; sigma[54] = 0.007942477995; sigma[55] = 0.008996260714; sigma[56] = 0.005558924052; sigma[57] = 0.00815521427; sigma[58] = 0.008883570666; sigma[59] = 0.005696067328;
                        votes[1] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = -0.029871794872; theta[1] = 0.055641025641; theta[2] = 0.981025641026; theta[3] = -0.030913461538; theta[4] = 0.055833333333; theta[5] = 0.979150641026; theta[6] = -0.032788461538; theta[7] = 0.058990384615; theta[8] = 0.97921474359; theta[9] = -0.031458333333; theta[10] = 0.057516025641; theta[11] = 0.9775; theta[12] = -0.035400641026; theta[13] = 0.061137820513; theta[14] = 0.976698717949; theta[15] = -0.032099358974; theta[16] = 0.060192307692; theta[17] = 0.978990384615; theta[18] = -0.033461538462; theta[19] = 0.058846153846; theta[20] = 0.977596153846; theta[21] = -0.032564102564; theta[22] = 0.05875; theta[23] = 0.978012820513; theta[24] = -0.034054487179; theta[25] = 0.058012820513; theta[26] = 0.975368589744; theta[27] = -0.03078525641; theta[28] = 0.056778846154; theta[29] = 0.979054487179; theta[30] = -0.032323717949; theta[31] = 0.056442307692; theta[32] = 0.977275641026; theta[33] = -0.031105769231; theta[34] = 0.059679487179; theta[35] = 0.979855769231; theta[36] = -0.032115384615; theta[37] = 0.057532051282; theta[38] = 0.976362179487; theta[39] = -0.031298076923; theta[40] = 0.057243589744; theta[41] = 0.977083333333; theta[42] = -0.029951923077; theta[43] = 0.054198717949; theta[44] = 0.977932692308; theta[45] = -0.029086538462; theta[46] = 0.057451923077; theta[47] = 0.982435897436; theta[48] = -0.032644230769; theta[49] = 0.058974358974; theta[50] = 0.979342948718; theta[51] = -0.035673076923; theta[52] = 0.06108974359; theta[53] = 0.975432692308; theta[54] = -0.031442307692; theta[55] = 0.056682692308; theta[56] = 0.978253205128; theta[57] = -0.033237179487; theta[58] = 0.058253205128; theta[59] = 0.97608974359;
                        sigma[0] = 0.007460240004; sigma[1] = 0.014296704501; sigma[2] = 0.009023948091; sigma[3] = 0.007519838695; sigma[4] = 0.014974305586; sigma[5] = 0.008976361953; sigma[6] = 0.00772267323; sigma[7] = 0.015031512758; sigma[8] = 0.009051146223; sigma[9] = 0.007588097653; sigma[10] = 0.014247195286; sigma[11] = 0.008878685928; sigma[12] = 0.00733541644; sigma[13] = 0.014339250266; sigma[14] = 0.008971152849; sigma[15] = 0.00729254785; sigma[16] = 0.014584578432; sigma[17] = 0.008827666604; sigma[18] = 0.007686094705; sigma[19] = 0.014479758413; sigma[20] = 0.00904838822; sigma[21] = 0.007357848485; sigma[22] = 0.014452283684; sigma[23] = 0.008960474225; sigma[24] = 0.007330836805; sigma[25] = 0.014512717814; sigma[26] = 0.008887364172; sigma[27] = 0.007471659044; sigma[28] = 0.014153566506; sigma[29] = 0.00906272783; sigma[30] = 0.007644440109; sigma[31] = 0.015130291574; sigma[32] = 0.009063090719; sigma[33] = 0.007506950381; sigma[34] = 0.014109512686; sigma[35] = 0.008936357433; sigma[36] = 0.00745033287; sigma[37] = 0.014726601567; sigma[38] = 0.00881096501; sigma[39] = 0.007308090667; sigma[40] = 0.014475415053; sigma[41] = 0.008919057188; sigma[42] = 0.007463940026; sigma[43] = 0.01388717849; sigma[44] = 0.009005822423; sigma[45] = 0.00740221049; sigma[46] = 0.01529815477; sigma[47] = 0.008701117716; sigma[48] = 0.007367206792; sigma[49] = 0.014621704501; sigma[50] = 0.009111587545; sigma[51] = 0.007452431613; sigma[52] = 0.014163556079; sigma[53] = 0.0089296205; sigma[54] = 0.007514586445; sigma[55] = 0.014341719859; sigma[56] = 0.009099673097; sigma[57] = 0.007174456597; sigma[58] = 0.014464416687; sigma[59] = 0.008624453515;
                        votes[2] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = -0.036298076923; theta[1] = -0.006121794872; theta[2] = 0.978381410256; theta[3] = -0.034983974359; theta[4] = -0.00578525641; theta[5] = 0.978365384615; theta[6] = -0.036041666667; theta[7] = -0.00296474359; theta[8] = 0.979391025641; theta[9] = -0.033573717949; theta[10] = -0.006057692308; theta[11] = 0.979358974359; theta[12] = -0.035016025641; theta[13] = -0.007548076923; theta[14] = 0.978573717949; theta[15] = -0.033878205128; theta[16] = -0.008605769231; theta[17] = 0.980048076923; theta[18] = -0.034791666667; theta[19] = -0.006826923077; theta[20] = 0.980144230769; theta[21] = -0.034599358974; theta[22] = -0.007003205128; theta[23] = 0.980176282051; theta[24] = -0.035945512821; theta[25] = -0.006153846154; theta[26] = 0.977548076923; theta[27] = -0.035112179487; theta[28] = -0.005208333333; theta[29] = 0.979262820513; theta[30] = -0.036538461538; theta[31] = -0.001522435897; theta[32] = 0.97796474359; theta[33] = -0.036378205128; theta[34] = -0.001858974359; theta[35] = 0.979262820513; theta[36] = -0.036137820513; theta[37] = -0.003317307692; theta[38] = 0.978573717949; theta[39] = -0.036618589744; theta[40] = -0.007067307692; theta[41] = 0.977884615385; theta[42] = -0.037291666667; theta[43] = -0.006538461538; theta[44] = 0.977564102564; theta[45] = -0.035913461538; theta[46] = -0.004583333333; theta[47] = 0.978381410256; theta[48] = -0.037916666667; theta[49] = -0.001923076923; theta[50] = 0.977612179487; theta[51] = -0.036185897436; theta[52] = -0.005961538462; theta[53] = 0.978044871795; theta[54] = -0.034775641026; theta[55] = -0.008445512821; theta[56] = 0.978477564103; theta[57] = -0.036522435897; theta[58] = -0.006907051282; theta[59] = 0.977756410256;
                        sigma[0] = 0.003442225283; sigma[1] = 0.020433356991; sigma[2] = 0.003981514813; sigma[3] = 0.00350641003; sigma[4] = 0.020510921864; sigma[5] = 0.004097648575; sigma[6] = 0.00350115855; sigma[7] = 0.020773101351; sigma[8] = 0.004096103539; sigma[9] = 0.003506940109; sigma[10] = 0.020628047984; sigma[11] = 0.004039332706; sigma[12] = 0.003496153619; sigma[13] = 0.021151199642; sigma[14] = 0.004121523442; sigma[15] = 0.003471177504; sigma[16] = 0.021434434356; sigma[17] = 0.003972914385; sigma[18] = 0.003513418166; sigma[19] = 0.020817816228; sigma[20] = 0.004029947176; sigma[21] = 0.00343092926; sigma[22] = 0.020752076943; sigma[23] = 0.004076411262; sigma[24] = 0.003559682959; sigma[25] = 0.020793860977; sigma[26] = 0.004095750924; sigma[27] = 0.003429795138; sigma[28] = 0.020838418166; sigma[29] = 0.004028943776; sigma[30] = 0.003294748551; sigma[31] = 0.019085021963; sigma[32] = 0.004066851351; sigma[33] = 0.003539767247; sigma[34] = 0.020296864757; sigma[35] = 0.004063879673; sigma[36] = 0.003396141292; sigma[37] = 0.019941719859; sigma[38] = 0.004015113186; sigma[39] = 0.003355713531; sigma[40] = 0.020079059602; sigma[41] = 0.003966037999; sigma[42] = 0.003420709832; sigma[43] = 0.020559171628; sigma[44] = 0.004042143357; sigma[45] = 0.003361986131; sigma[46] = 0.019978993086; sigma[47] = 0.0040936943; sigma[48] = 0.003400467445; sigma[49] = 0.020415212062; sigma[50] = 0.003973945779; sigma[51] = 0.003410452652; sigma[52] = 0.020378562653; sigma[53] = 0.004037523658; sigma[54] = 0.003507321488; sigma[55] = 0.021372423343; sigma[56] = 0.004077970681; sigma[57] = 0.003352169399; sigma[58] = 0.020827452929; sigma[59] = 0.004109389412;
                        votes[3] = 0.2 - gauss(x, theta, sigma);
                        theta[0] = -0.037083333333; theta[1] = -0.010400641026; theta[2] = 0.980641025641; theta[3] = -0.039278846154; theta[4] = -0.008958333333; theta[5] = 0.977900641026; theta[6] = -0.037131410256; theta[7] = -0.00983974359; theta[8] = 0.981330128205; theta[9] = -0.03796474359; theta[10] = -0.009471153846; theta[11] = 0.979759615385; theta[12] = -0.038621794872; theta[13] = -0.009423076923; theta[14] = 0.979455128205; theta[15] = -0.037628205128; theta[16] = -0.011217948718; theta[17] = 0.979615384615; theta[18] = -0.038157051282; theta[19] = -0.009951923077; theta[20] = 0.979663461538; theta[21] = -0.038461538462; theta[22] = -0.009198717949; theta[23] = 0.980721153846; theta[24] = -0.038653846154; theta[25] = -0.008846153846; theta[26] = 0.979471153846; theta[27] = -0.039134615385; theta[28] = -0.006810897436; theta[29] = 0.979439102564; theta[30] = -0.03703525641; theta[31] = -0.007083333333; theta[32] = 0.980721153846; theta[33] = -0.038141025641; theta[34] = -0.008637820513; theta[35] = 0.979951923077; theta[36] = -0.038092948718; theta[37] = -0.007115384615; theta[38] = 0.981233974359; theta[39] = -0.038733974359; theta[40] = -0.009663461538; theta[41] = 0.978798076923; theta[42] = -0.038253205128; theta[43] = -0.009519230769; theta[44] = 0.980432692308; theta[45] = -0.037836538462; theta[46] = -0.010753205128; theta[47] = 0.979727564103; theta[48] = -0.038349358974; theta[49] = -0.009038461538; theta[50] = 0.980144230769; theta[51] = -0.037467948718; theta[52] = -0.009759615385; theta[53] = 0.979615384615; theta[54] = -0.03796474359; theta[55] = -0.012099358974; theta[56] = 0.979262820513; theta[57] = -0.038653846154; theta[58] = -0.009855769231; theta[59] = 0.978894230769;
                        sigma[0] = 0.003281236675; sigma[1] = 0.016472115158; sigma[2] = 0.003042217321; sigma[3] = 0.003311499198; sigma[4] = 0.017012857268; sigma[5] = 0.003109214517; sigma[6] = 0.003350905838; sigma[7] = 0.016731705117; sigma[8] = 0.003101275661; sigma[9] = 0.003269415454; sigma[10] = 0.01703193189; sigma[11] = 0.003109076861; sigma[12] = 0.003283998017; sigma[13] = 0.016957038985; sigma[14] = 0.003094895453; sigma[15] = 0.003323541286; sigma[16] = 0.016425119195; sigma[17] = 0.003109146973; sigma[18] = 0.003291956134; sigma[19] = 0.01645977336; sigma[20] = 0.00308658549; sigma[21] = 0.003224556243; sigma[22] = 0.016727563105; sigma[23] = 0.00306053766; sigma[24] = 0.003349469951; sigma[25] = 0.016493219951; sigma[26] = 0.002997957531; sigma[27] = 0.003277776781; sigma[28] = 0.016607297604; sigma[29] = 0.003094396963; sigma[30] = 0.003310921864; sigma[31] = 0.016434762316; sigma[32] = 0.00304803766; sigma[33] = 0.003294300655; sigma[34] = 0.015972343215; sigma[35] = 0.003061696437; sigma[36] = 0.003351331134; sigma[37] = 0.016371486717; sigma[38] = 0.003105688876; sigma[39] = 0.003246634389; sigma[40] = 0.016655495746; sigma[41] = 0.003141984898; sigma[42] = 0.003315378225; sigma[43] = 0.016835025301; sigma[44] = 0.003045165372; sigma[45] = 0.003368877157; sigma[46] = 0.017248951943; sigma[47] = 0.003078291193; sigma[48] = 0.003348397209; sigma[49] = 0.016510293423; sigma[50] = 0.003109434356; sigma[51] = 0.003213140028; sigma[52] = 0.016121576861; sigma[53] = 0.003027095691; sigma[54] = 0.003317492377; sigma[55] = 0.016232932466; sigma[56] = 0.003011315571; sigma[57] = 0.003243059695; sigma[58] = 0.016754306151; sigma[59] = 0.003041886279;
                        votes[4] = 0.2 - gauss(x, theta, sigma);
                        // return argmax of votes
                        uint8_t classIdx = 0;
                        float maxVotes = votes[0];

                        for (uint8_t i = 1; i < 5; i++) {
                            if (votes[i] > maxVotes) {
                                classIdx = i;
                                maxVotes = votes[i];
                            }
                        }

                        return classIdx;
                    }

                protected:
                    /**
                    * Compute gaussian value
                    */
                    float gauss(float *x, float *theta, float *sigma) {
                        float gauss = 0.0f;

                        for (uint16_t i = 0; i < 60; i++) {
                            gauss += log(sigma[i]);
                            gauss += abs(x[i] - theta[i]) / sigma[i];
                        }

                        return gauss;
                    }
                };
            }
        }
    }