#pragma once
#include <cstdarg>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class GaussianNB {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float votes[5] = { 0.0f };
                        float theta[60] = { 0 };
                        float sigma[60] = { 0 };
                        theta[0] = 0.040178571429; theta[1] = -0.254464285714; theta[2] = 0.120163690476; theta[3] = 0.071834415584; theta[4] = -0.241758241758; theta[5] = 0.067336309524; theta[6] = 0.07913961039; theta[7] = -0.254743303571; theta[8] = 0.050223214286; theta[9] = 0.08400974026; theta[10] = -0.292261904762; theta[11] = 0.121279761905; theta[12] = 0.077777777778; theta[13] = -0.291852678571; theta[14] = 0.035342261905; theta[15] = 0.088068181818; theta[16] = -0.30078125; theta[17] = 0.126488095238; theta[18] = 0.06737012987; theta[19] = -0.260323660714; theta[20] = 0.043526785714; theta[21] = 0.068993506494; theta[22] = -0.29255952381; theta[23] = 0.030133928571; theta[24] = 0.067775974026; theta[25] = -0.286607142857; theta[26] = 0.10900297619; theta[27] = 0.099431818182; theta[28] = -0.302693208431; theta[29] = 0.125; theta[30] = 0.059523809524; theta[31] = -0.23046875; theta[32] = 0.143601190476; theta[33] = 0.040584415584; theta[34] = -0.202845982143; theta[35] = 0.0546875; theta[36] = 0.021103896104; theta[37] = -0.209542410714; theta[38] = 0.111607142857; theta[39] = 0.023944805195; theta[40] = -0.224051339286; theta[41] = 0.029389880952; theta[42] = 0.03125; theta[43] = -0.180245535714; theta[44] = 0.119419642857; theta[45] = 0.049918831169; theta[46] = -0.239233193277; theta[47] = 0.034970238095; theta[48] = 0.060876623377; theta[49] = -0.261160714286; theta[50] = 0.111235119048; theta[51] = 0.08887987013; theta[52] = -0.2734375; theta[53] = 0.115699404762; theta[54] = 0.12012987013; theta[55] = -0.281775210084; theta[56] = 0.136532738095; theta[57] = 0.099702380952; theta[58] = -0.305654761905; theta[59] = 0.138020833333;
                        sigma[0] = 0.492557310869; sigma[1] = 0.43308523037; sigma[2] = 0.337154190962; sigma[3] = 0.613088047268; sigma[4] = 0.365965464595; sigma[5] = 0.33143432489; sigma[6] = 0.604015849174; sigma[7] = 0.379145331799; sigma[8] = 0.336298314757; sigma[9] = 0.644986343776; sigma[10] = 0.460098853527; sigma[11] = 0.33183139941; sigma[12] = 0.622380953867; sigma[13] = 0.431388700765; sigma[14] = 0.329945122438; sigma[15] = 0.623626818561; sigma[16] = 0.428015574171; sigma[17] = 0.34263171563; sigma[18] = 0.60282549377; sigma[19] = 0.386071576418; sigma[20] = 0.326757454142; sigma[21] = 0.638170830252; sigma[22] = 0.457841466197; sigma[23] = 0.315715211724; sigma[24] = 0.626494081169; sigma[25] = 0.45787618842; sigma[26] = 0.336053620525; sigma[27] = 0.634040410651; sigma[28] = 0.458420974014; sigma[29] = 0.325086807042; sigma[30] = 0.545812076316; sigma[31] = 0.373258319706; sigma[32] = 0.309425822596; sigma[33] = 0.613686436804; sigma[34] = 0.361144943167; sigma[35] = 0.314624606211; sigma[36] = 0.560652619972; sigma[37] = 0.378158804375; sigma[38] = 0.328937696356; sigma[39] = 0.590151264083; sigma[40] = 0.405001194163; sigma[41] = 0.315015452654; sigma[42] = 0.639629991525; sigma[43] = 0.397547820663; sigma[44] = 0.315507055545; sigma[45] = 0.619814782383; sigma[46] = 0.348708533613; sigma[47] = 0.334900595839; sigma[48] = 0.547061452616; sigma[49] = 0.404834982354; sigma[50] = 0.339716283507; sigma[51] = 0.597140216689; sigma[52] = 0.431335450705; sigma[53] = 0.328472528192; sigma[54] = 0.660376962188; sigma[55] = 0.391144625696; sigma[56] = 0.332022255375; sigma[57] = 0.541336718465; sigma[58] = 0.471634691821; sigma[59] = 0.33347381256;
                        votes[0] = 0.096551724138 - gauss(x, theta, sigma);
                        theta[0] = 0.051339285714; theta[1] = -0.270238095238; theta[2] = 0.073288690476; theta[3] = 0.021915584416; theta[4] = -0.220879120879; theta[5] = 0.000744047619; theta[6] = 0.032467532468; theta[7] = -0.231026785714; theta[8] = -0.00037202381; theta[9] = 0.007305194805; theta[10] = -0.20625; theta[11] = 0.110491071429; theta[12] = 0.015079365079; theta[13] = -0.188058035714; theta[14] = 0.026413690476; theta[15] = 0.022321428571; theta[16] = -0.186662946429; theta[17] = 0.130952380952; theta[18] = 0.05762987013; theta[19] = -0.221819196429; theta[20] = 0.028273809524; theta[21] = 0.04099025974; theta[22] = -0.241369047619; theta[23] = 0.036458333333; theta[24] = 0.043019480519; theta[25] = -0.238095238095; theta[26] = 0.10193452381; theta[27] = 0.038961038961; theta[28] = -0.235948477752; theta[29] = 0.105654761905; theta[30] = 0.061755952381; theta[31] = -0.230747767857; theta[32] = 0.106770833333; theta[33] = 0.087662337662; theta[34] = -0.246651785714; theta[35] = 0.03125; theta[36] = 0.081980519481; theta[37] = -0.240234375; theta[38] = 0.11755952381; theta[39] = 0.086444805195; theta[40] = -0.245814732143; theta[41] = 0.030505952381; theta[42] = 0.094561688312; theta[43] = -0.181082589286; theta[44] = 0.114955357143; theta[45] = 0.073863636364; theta[46] = -0.222951680672; theta[47] = 0.020461309524; theta[48] = 0.039772727273; theta[49] = -0.228794642857; theta[50] = 0.082217261905; theta[51] = 0.023133116883; theta[52] = -0.206752232143; theta[53] = 0.095982142857; theta[54] = 0.020698051948; theta[55] = -0.185661764706; theta[56] = 0.096726190476; theta[57] = 0.004464285714; theta[58] = -0.197321428571; theta[59] = 0.115699404762;
                        sigma[0] = 0.600042850657; sigma[1] = 0.388915817813; sigma[2] = 0.331837350684; sigma[3] = 0.669900464254; sigma[4] = 0.333055188058; sigma[5] = 0.351499943911; sigma[6] = 0.665415754565; sigma[7] = 0.325288735144; sigma[8] = 0.341486718243; sigma[9] = 0.662727037032; sigma[10] = 0.356171256447; sigma[11] = 0.360900603589; sigma[12] = 0.631448099244; sigma[13] = 0.334960627583; sigma[14] = 0.337006931537; sigma[15] = 0.684308425915; sigma[16] = 0.32580496489; sigma[17] = 0.329701673822; sigma[18] = 0.629648102979; sigma[19] = 0.325290525716; sigma[20] = 0.357645533658; sigma[21] = 0.654127061014; sigma[22] = 0.393705270052; sigma[23] = 0.335662358877; sigma[24] = 0.681812253763; sigma[25] = 0.377517008289; sigma[26] = 0.356238818628; sigma[27] = 0.654695144006; sigma[28] = 0.356928616792; sigma[29] = 0.344863858488; sigma[30] = 0.579891560975; sigma[31] = 0.346291601928; sigma[32] = 0.352470278334; sigma[33] = 0.70527281309; sigma[34] = 0.378546268626; sigma[35] = 0.340355284225; sigma[36] = 0.669341769702; sigma[37] = 0.366342273564; sigma[38] = 0.355103370959; sigma[39] = 0.669807403399; sigma[40] = 0.348841999528; sigma[41] = 0.355530201848; sigma[42] = 0.700510567929; sigma[43] = 0.345784013639; sigma[44] = 0.351151586795; sigma[45] = 0.71001051654; sigma[46] = 0.322558367664; sigma[47] = 0.34559448114; sigma[48] = 0.679424625158; sigma[49] = 0.368063169136; sigma[50] = 0.347934023728; sigma[51] = 0.658002345632; sigma[52] = 0.347651813981; sigma[53] = 0.365477409898; sigma[54] = 0.622468581506; sigma[55] = 0.290155884612; sigma[56] = 0.355475394769; sigma[57] = 0.562852095449; sigma[58] = 0.363782509281; sigma[59] = 0.342795444859;
                        votes[1] = 0.096551724138 - gauss(x, theta, sigma);
                        theta[0] = -0.019898504274; theta[1] = 0.113888888889; theta[2] = 0.075053418803; theta[3] = -0.02229020979; theta[4] = 0.096449704142; theta[5] = -0.017761752137; theta[6] = -0.003059440559; theta[7] = 0.106470352564; theta[8] = 0.006276709402; theta[9] = -0.032488344988; theta[10] = 0.120299145299; theta[11] = 0.062232905983; theta[12] = -0.007122507123; theta[13] = 0.112479967949; theta[14] = -0.001602564103; theta[15] = -0.026660839161; theta[16] = 0.09515224359; theta[17] = 0.058760683761; theta[18] = -0.011217948718; theta[19] = 0.103766025641; theta[20] = -0.010683760684; theta[21] = -0.011800699301; theta[22] = 0.113141025641; theta[23] = -0.02577457265; theta[24] = -0.005536130536; theta[25] = 0.112713675214; theta[26] = 0.075454059829; theta[27] = -0.016317016317; theta[28] = 0.104665825977; theta[29] = 0.073183760684; theta[30] = -0.038194444444; theta[31] = 0.117087339744; theta[32] = 0.034188034188; theta[33] = -0.004370629371; theta[34] = 0.098157051282; theta[35] = -0.016960470085; theta[36] = -0.032051282051; theta[37] = 0.121895032051; theta[38] = 0.055555555556; theta[39] = 0.0; theta[40] = 0.123096955128; theta[41] = 0.011752136752; theta[42] = -0.027097902098; theta[43] = 0.16796875; theta[44] = 0.063034188034; theta[45] = -0.029137529138; theta[46] = 0.10463800905; theta[47] = -0.016693376068; theta[48] = -0.023018648019; theta[49] = 0.104767628205; theta[50] = 0.05328525641; theta[51] = -0.027534965035; theta[52] = 0.114583333333; theta[53] = 0.053418803419; theta[54] = 0.003787878788; theta[55] = 0.081919306184; theta[56] = 0.088808760684; theta[57] = -0.032719017094; theta[58] = 0.12702991453; theta[59] = 0.068376068376;
                        sigma[0] = 0.522674296741; sigma[1] = 0.650790006235; sigma[2] = 0.62833689322; sigma[3] = 0.616887657464; sigma[4] = 0.568272937775; sigma[5] = 0.601547502417; sigma[6] = 0.608421982696; sigma[7] = 0.569061451329; sigma[8] = 0.62481592848; sigma[9] = 0.610395557877; sigma[10] = 0.631126407725; sigma[11] = 0.628516668039; sigma[12] = 0.630781813322; sigma[13] = 0.581279798761; sigma[14] = 0.644339491679; sigma[15] = 0.61071376143; sigma[16] = 0.567418407796; sigma[17] = 0.602672539656; sigma[18] = 0.609418024339; sigma[19] = 0.576497236807; sigma[20] = 0.621524925696; sigma[21] = 0.603391683741; sigma[22] = 0.610097970202; sigma[23] = 0.620318133717; sigma[24] = 0.625711035305; sigma[25] = 0.63604919016; sigma[26] = 0.6293338409; sigma[27] = 0.615860054409; sigma[28] = 0.628726982579; sigma[29] = 0.626811161451; sigma[30] = 0.517126477923; sigma[31] = 0.581348899708; sigma[32] = 0.606915225389; sigma[33] = 0.601141102518; sigma[34] = 0.551099870251; sigma[35] = 0.618424505622; sigma[36] = 0.627893038907; sigma[37] = 0.556236604651; sigma[38] = 0.625675155807; sigma[39] = 0.605848698244; sigma[40] = 0.545187435596; sigma[41] = 0.614979410136; sigma[42] = 0.614226501967; sigma[43] = 0.565530240494; sigma[44] = 0.611210987497; sigma[45] = 0.604363974732; sigma[46] = 0.500363105743; sigma[47] = 0.633279470146; sigma[48] = 0.610139776727; sigma[49] = 0.544387327297; sigma[50] = 0.60316362097; sigma[51] = 0.603196584551; sigma[52] = 0.546002772587; sigma[53] = 0.619809360278; sigma[54] = 0.609489785692; sigma[55] = 0.506758530509; sigma[56] = 0.623334070327; sigma[57] = 0.513385931082; sigma[58] = 0.627004427942; sigma[59] = 0.627157870031;
                        votes[2] = 0.268965517241 - gauss(x, theta, sigma);
                        theta[0] = -0.053685897436; theta[1] = -0.319978632479; theta[2] = 0.057959401709; theta[3] = -0.058129370629; theta[4] = -0.300690335306; theta[5] = -0.009348290598; theta[6] = -0.045308857809; theta[7] = -0.316806891026; theta[8] = -0.012286324786; theta[9] = -0.048951048951; theta[10] = -0.314743589744; theta[11] = 0.070379273504; theta[12] = -0.050284900285; theta[13] = -0.268329326923; theta[14] = -0.002136752137; theta[15] = -0.045454545455; theta[16] = -0.277143429487; theta[17] = 0.075186965812; theta[18] = -0.058857808858; theta[19] = -0.265925480769; theta[20] = -0.01655982906; theta[21] = -0.043123543124; theta[22] = -0.286752136752; theta[23] = 0.005074786325; theta[24] = -0.051573426573; theta[25] = -0.298611111111; theta[26] = 0.065705128205; theta[27] = -0.073572261072; theta[28] = -0.277742749054; theta[29] = 0.061298076923; theta[30] = -0.055822649573; theta[31] = -0.268429487179; theta[32] = 0.069577991453; theta[33] = -0.067744755245; theta[34] = -0.259014423077; theta[35] = -0.016426282051; theta[36] = -0.06453962704; theta[37] = -0.256510416667; theta[38] = 0.079727564103; theta[39] = -0.064393939394; theta[40] = -0.277944711538; theta[41] = -0.008947649573; theta[42] = -0.056381118881; theta[43] = -0.233874198718; theta[44] = 0.069177350427; theta[45] = -0.049970862471; theta[46] = -0.290818250377; theta[47] = -0.003472222222; theta[48] = -0.060897435897; theta[49] = -0.294070512821; theta[50] = 0.078258547009; theta[51] = -0.059440559441; theta[52] = -0.278345352564; theta[53] = 0.067174145299; theta[54] = -0.052593240093; theta[55] = -0.265365761689; theta[56] = 0.066372863248; theta[57] = -0.055956196581; theta[58] = -0.290277777778; theta[59] = 0.058360042735;
                        sigma[0] = 0.240306928467; sigma[1] = 0.934002565132; sigma[2] = 0.286971905821; sigma[3] = 0.293121825394; sigma[4] = 0.828359409615; sigma[5] = 0.28476838018; sigma[6] = 0.282845922198; sigma[7] = 0.830992319564; sigma[8] = 0.278940037738; sigma[9] = 0.286330221383; sigma[10] = 0.937389465655; sigma[11] = 0.285344569177; sigma[12] = 0.279041547415; sigma[13] = 0.807525365386; sigma[14] = 0.283560250592; sigma[15] = 0.287137106805; sigma[16] = 0.817603830674; sigma[17] = 0.282841846872; sigma[18] = 0.290453962832; sigma[19] = 0.798255244731; sigma[20] = 0.286673779246; sigma[21] = 0.293488952318; sigma[22] = 0.919211959993; sigma[23] = 0.28496356427; sigma[24] = 0.282861480043; sigma[25] = 0.918402630879; sigma[26] = 0.279314425933; sigma[27] = 0.287776888668; sigma[28] = 0.876097343615; sigma[29] = 0.276435300101; sigma[30] = 0.246416418751; sigma[31] = 0.832593047796; sigma[32] = 0.281784171686; sigma[33] = 0.277528153332; sigma[34] = 0.787265997272; sigma[35] = 0.280256799115; sigma[36] = 0.283726670238; sigma[37] = 0.771147770208; sigma[38] = 0.278265578975; sigma[39] = 0.280738991032; sigma[40] = 0.783279841779; sigma[41] = 0.283629431794; sigma[42] = 0.279680357188; sigma[43] = 0.806762445997; sigma[44] = 0.27775545009; sigma[45] = 0.27898469019; sigma[46] = 0.737063243762; sigma[47] = 0.282773735758; sigma[48] = 0.282872347187; sigma[49] = 0.795295872316; sigma[50] = 0.28080134917; sigma[51] = 0.285590576413; sigma[52] = 0.795414240792; sigma[53] = 0.273387831559; sigma[54] = 0.287351032473; sigma[55] = 0.714987144788; sigma[56] = 0.283065709326; sigma[57] = 0.246256815095; sigma[58] = 0.900275850252; sigma[59] = 0.277120727269;
                        votes[3] = 0.268965517241 - gauss(x, theta, sigma);
                        theta[0] = -0.074519230769; theta[1] = -0.328739316239; theta[2] = 0.07719017094; theta[3] = -0.062208624709; theta[4] = -0.310453648915; theta[5] = 0.002270299145; theta[6] = -0.075029137529; theta[7] = -0.295072115385; theta[8] = 0.007077991453; theta[9] = -0.079108391608; theta[10] = -0.318055555556; theta[11] = 0.080261752137; theta[12] = -0.069230769231; theta[13] = -0.296574519231; theta[14] = 0.007077991453; theta[15] = -0.084061771562; theta[16] = -0.294471153846; theta[17] = 0.074519230769; theta[18] = -0.060751748252; theta[19] = -0.318108974359; theta[20] = 0.011217948718; theta[21] = -0.073426573427; theta[22] = -0.329487179487; theta[23] = -0.001736111111; theta[24] = -0.064976689977; theta[25] = -0.321153846154; theta[26] = 0.095085470085; theta[27] = -0.080710955711; theta[28] = -0.313787305591; theta[29] = 0.074385683761; theta[30] = -0.051282051282; theta[31] = -0.315104166667; theta[32] = 0.09375; theta[33] = -0.081876456876; theta[34] = -0.304186698718; theta[35] = 0.000801282051; theta[36] = -0.062937062937; theta[37] = -0.31640625; theta[38] = 0.080662393162; theta[39] = -0.076923076923; theta[40] = -0.316706730769; theta[41] = 0.006677350427; theta[42] = -0.052447552448; theta[43] = -0.270833333333; theta[44] = 0.089342948718; theta[45] = -0.062937062937; theta[46] = -0.303921568627; theta[47] = 0.006944444444; theta[48] = -0.068618881119; theta[49] = -0.312099358974; theta[50] = 0.077323717949; theta[51] = -0.085955710956; theta[52] = -0.2890625; theta[53] = 0.079594017094; theta[54] = -0.082896270396; theta[55] = -0.281768476621; theta[56] = 0.068776709402; theta[57] = -0.057825854701; theta[58] = -0.345085470085; theta[59] = 0.091346153846;
                        sigma[0] = 0.224281287441; sigma[1] = 0.751168355183; sigma[2] = 0.214104891247; sigma[3] = 0.271572449168; sigma[4] = 0.624516727869; sigma[5] = 0.215484074436; sigma[6] = 0.280302501167; sigma[7] = 0.648221410549; sigma[8] = 0.21145497831; sigma[9] = 0.263144809403; sigma[10] = 0.716055764782; sigma[11] = 0.21808396075; sigma[12] = 0.266254902015; sigma[13] = 0.642844086879; sigma[14] = 0.210453375746; sigma[15] = 0.273726690614; sigma[16] = 0.648412942962; sigma[17] = 0.216936201971; sigma[18] = 0.273340907012; sigma[19] = 0.667286249226; sigma[20] = 0.218958026634; sigma[21] = 0.265534583455; sigma[22] = 0.734728798331; sigma[23] = 0.213638814328; sigma[24] = 0.279577565046; sigma[25] = 0.711090977818; sigma[26] = 0.212468726375; sigma[27] = 0.268967836779; sigma[28] = 0.681752386488; sigma[29] = 0.20773021527; sigma[30] = 0.233815131335; sigma[31] = 0.646264754258; sigma[32] = 0.21516927232; sigma[33] = 0.272036446491; sigma[34] = 0.650265175364; sigma[35] = 0.212895548892; sigma[36] = 0.272183237831; sigma[37] = 0.659934412169; sigma[38] = 0.213690339075; sigma[39] = 0.279577649945; sigma[40] = 0.669290698332; sigma[41] = 0.21253999425; sigma[42] = 0.271698291541; sigma[43] = 0.6536249681; sigma[44] = 0.215141503531; sigma[45] = 0.27348118231; sigma[46] = 0.580409163643; sigma[47] = 0.20930896991; sigma[48] = 0.266866466534; sigma[49] = 0.624599199948; sigma[50] = 0.208953825468; sigma[51] = 0.27678199232; sigma[52] = 0.628557255593; sigma[53] = 0.21920343353; sigma[54] = 0.260067709735; sigma[55] = 0.562502765202; sigma[56] = 0.211181891799; sigma[57] = 0.230886496089; sigma[58] = 0.71926359817; sigma[59] = 0.21211973494;
                        votes[4] = 0.268965517241 - gauss(x, theta, sigma);
                        // return argmax of votes
                        uint8_t classIdx = 0;
                        float maxVotes = votes[0];

                        for (uint8_t i = 1; i < 5; i++) {
                            if (votes[i] > maxVotes) {
                                classIdx = i;
                                maxVotes = votes[i];
                            }
                        }

                        return classIdx;
                    }

                protected:
                    /**
                    * Compute gaussian value
                    */
                    float gauss(float *x, float *theta, float *sigma) {
                        float gauss = 0.0f;

                        for (uint16_t i = 0; i < 60; i++) {
                            gauss += log(sigma[i]);
                            gauss += abs(x[i] - theta[i]) / sigma[i];
                        }

                        return gauss;
                    }
                };
            }
        }
    }